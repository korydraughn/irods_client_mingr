{% extends "base_session.html" %}

{% block css_styles %}
    <style>
        .grid-container {
            display: grid;
            grid-template-columns: auto auto;
            padding-bottom: 20px;
        }
    </style>
{% endblock %}

{% block content %}
    <h2>Collection: {{ logical_path }}</h2>
    <h2>Collection ID: {{ coll_id }}</h2>

    <p>
        <form action="" method="post">
            <input name="coll_id" type="text" value="{{ coll_id }}" hidden required />
            <button>Delete Collection</button>
        </form>
    </p>

    <h3>Collection Information</h3>

    <div class="grid-container">
        <div>Inheritance Enabled:</div>
        <div>{{ coll_info['inheritance_enabled'] }}</div>

        <div>Created At:</div>
        <div>{{ coll_info['created_at'] }}</div>

        <div>Modified At:</div>
        <div>{{ coll_info['modified_at'] }}</div>
    </div>

    <h3>Permissions</h3>

    {% if coll_info['permissions'] %}
        {% for p in coll_info['permissions'] %}
        <div class="grid-container">
            <div>Username:</div>
            <div>{{ p['name'] }}#{{ p['zone'] }}</div>

            <div>User Type:</div>
            <div>{{ p['type'] }}</div>

            <div>Permission:</div>
            <div>{{ p['perm'] }}</div>
        </div>
        {% endfor %}
    {% else %}
    <p>- No permissions found -</p>
    {% endif %}
{% endblock %}

{% block js_script %}{% endblock %}
